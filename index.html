<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Voice Studio – Trim, Fit & Clean Voiceovers</title>
  <meta name="description" content="Free online tool to fix voiceover timing: remove/normalize pauses, trim to exact seconds, or fit length while preserving pitch. Runs in your browser.">

  <!-- Google AdSense (your publisher ID) -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4421510668136093"
          crossorigin="anonymous"></script>

  <!-- Gradio embed (fallback) -->
  <script type="module" src="https://gradio.s3-us-west-2.amazonaws.com/3.39.0/gradio.js"></script>

  <style>
    :root { --bg:#0b1020; --text:#eaf0ff; --muted:#a7b0c2; --card:#121832; --br:#1f2746; }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:linear-gradient(180deg,#0b1020,#0e1430);color:var(--text)}
    header{max-width:1100px;margin:0 auto;padding:24px 16px}
    h1{margin:0 0 8px;font-size:28px}
    p{margin:0;color:var(--muted)}
    .wrap{max-width:1100px;margin:16px auto;padding:0 16px}
    .card{background:var(--card);border:1px solid var(--br);border-radius:16px;padding:12px;margin:12px 0;box-shadow:0 8px 24px rgba(0,0,0,.35)}
    .ad{display:block;min-height:90px}
    iframe.tool{width:100%;height:86vh;border:0;border-radius:14px;overflow:hidden;background:#0a0f24}
    gradio-app{display:block;width:100%;height:86vh;border-radius:14px;overflow:hidden;background:#0a0f24;border:0}
    .status{color:var(--muted);font-size:.95rem;margin:8px 0 0 4px}
    footer{max-width:1100px;margin:24px auto;padding:16px;color:var(--muted);font-size:.9rem;text-align:center}
    a{color:#bfe2ff}
  </style>
</head>
<body>
  <header>
    <h1>AI Voice Studio</h1>
    <p>Trim to exact seconds • Fit length (pitch preserved) • Control pauses • Normalize loudness</p>
  </header>

  <!-- Top Ad Unit -->
  <div class="wrap card">
    <ins class="adsbygoogle ad"
         style="display:block"
         data-ad-client="ca-pub-4421510668136093"
         data-ad-slot="6948151681"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  </div>

  <!-- Embedded Hugging Face Space -->
  <div class="wrap card" id="app-wrap">
    <div class="status" id="status">loading app…</div>
    <!-- primary: official embed iframe -->
    <iframe
      id="hf-embed"
      class="tool"
      src="https://hf.space/embed/lifesee/VoiceoverStudio/+/?__theme=dark"
      allow="clipboard-read; clipboard-write; microphone; camera; display-capture"
      loading="eager"
      referrerpolicy="no-referrer-when-downgrade">
    </iframe>

    <!-- fallback: gradio-app (hidden until needed) -->
    <gradio-app id="gradio-fallback"
                src="https://huggingface.co/spaces/lifesee/VoiceoverStudio"
                style="display:none"></gradio-app>
  </div>

  <!-- Bottom Ad Unit -->
  <div class="wrap card">
    <ins class="adsbygoogle ad"
         style="display:block"
         data-ad-client="ca-pub-4421510668136093"
         data-ad-slot="9135331321"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  </div>

  <footer>
    <div>© <span id="yr"></span> AI Voice Studio • <a href="./privacy.html">Privacy</a></div>
  </footer>

  <script>
    document.getElementById('yr').textContent = new Date().getFullYear();

    // Robust embed: if iframe doesn't load within 5s, switch to gradio-app fallback.
    const statusEl = document.getElementById('status');
    const iframe = document.getElementById('hf-embed');
    const fallback = document.getElementById('gradio-fallback');

    let loaded = false;
    const done = (msg) => { statusEl.textContent = msg || ''; };

    iframe.addEventListener('load', () => {
      loaded = true;
      done(''); // clear status
    });

    // After 5s, if nothing loaded, try fallback
    setTimeout(() => {
      if (!loaded) {
        iframe.style.display = 'none';
        fallback.style.display = 'block';
        done('using fallback embed…');
      }
    }, 5000);

    // If even fallback fails after 12s, show a hint
    setTimeout(() => {
      if (!loaded && fallback.style.display === 'block') {
        done('couldn’t load the app. check that the Space is public and running.');
      }
    }, 12000);
  </script>
</body>
</html>
